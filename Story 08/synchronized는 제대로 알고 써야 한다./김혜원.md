## 들어가며
 - 우리가 개발하는 WAS는 여러 개의 스레드가 동작하도록 되어 있고, synchronized를 자주 사용한다.
 - 그러나 synchronized를 쓴다고 무조건 안정적인 것은 아니며, 성능에 영향을 미치는 부분도 있다. 
 
 ## 프로세스와 스레드 
 - 프로세스와 스레드의 관계는 1 : n 관계
 - 스레드는 다른말로 Lightweight Process(LWP) 즉, 가벼운 프로세스이며 프로세스에서 만들어 사용하고 있는 메모리를 공유함
 
 ## Thread 클래스 상속과 Runnble 인터페이스 구현
 - 스레드의 구현은 Thread 클래스를 상속 받는 방법, Runnable 인터페이스를 구현하는 방법이 있다.
 - Thread 클래스는 Runnable 인터페이스 구현한 것으로 어느 것을 사용해도 거의 차이가 없다.
 - Runnable 인터페이스를 구현하면 원하는 기능을 추가할 수 있지만, 해당 클래스를 수행할 때 별도의 스레드 객체를 생성해야 한다. 
 - 자바는 다중 상속을 인정하지 않기때문에 스레드를 사용할때 이미 상속받은 클래스가 존재한다면 Runnable 인터페이스를 구현해야한다. 
 
 
 
 ## Sleep(), wait(), join() - 현재 진행중인 스레드 대기
  - 모두 예외를 던지도록 되어 있어 사용할 때는 반드시 예외 처리를 해야주어야 함
  - wait() : 모든 클래스의 부모 클래스인 Object 클래스에 선언되어 있어 어느 클래스에서도 사용 가능
             만약 매개변수를 지정하지 않으면 notify() 메서드 혹은 notifyAll() 메서드가 호출될때까지 대기
  - sleep(): 명시된 시간만큼 해당 스레드를 대기시킴. 
    sleep(long millis): 명시된 ms만큼 해당 스레드 대기. static메서드로 반드시 스레드 객체를 통하지 않아도 사용가능
    sleep(long millis, int nanos): 명시된 ms + 명시된 나노 시간만큼 해당 스레드 대기 
  - join() : 명시된 시간만큼 해당 스레드가 죽기를 기다림. 매개변수 지정하지 않으면 죽을 때까지 계속 대기.
  
 ## interrupt(), notify(), notifyAll()
  - interrupt() : sleep(), wait(), join() 메서드를 모두 멈출 수 있는 메서드. 해당 스레드가 block된 상태에서만 작동한다. 
  - isAlive() : 해당 스레드가 살아있는지 확인하는 메서드
  - notify(), notifyAll() : wait()메서드를 멈추기 윈한 메서드
    
    
 ## synchronize
    : 동시에 일어나다. 동시에 진행하다.
    - 하나의 객체에 여러 요청이 동시에 달려들면 원하는 처리를 하지도 못하고 이상한 결과가 나올 수 있음. 
    - 그래서 synchronize를 통해 동기화를 하는 것 
    - 동기화 사용시점 
      - 하나의 객체를 여러 스레드에서 동시에 사용하는 경우 반드시 필요한 부분에만 동기화를 사용해야 성능저하를 줄일 수 있다. 
      - static 으로 선언한 객체를 여러 스레드에서 동시에 사용할 경우 
      
 ## 동기화를 위해서 자바에서 제공하는 것들 
    Lock : 실행 중인 스레드를 간단한 방법으로 정지 시켰다가 실행시킴. 상호 참조로 인해 발생하는 데드락을 피할 수 있다.
    Executors: 스레드를 더 효율적으로 관리할 수 있는 클래스들을 제공함. 스레드풀로 제공하므로 필요에 따라 유용하게 사용할 수 있음.
    Concurrent 콜렉션 : 앞서 살펴본 콜렉션의 클래스들을 제공
    Atomic 변수 : 동기화가 되어 있는 변수를 제공. 이 변수를 사용하면 synchronized 식별자를 메서드에 지정할 필요 없이 사용할 수 있음. 
    
    
    ## JVM내에서 synchronized은 어떻게 동작할까 
    - Hotspot VM ‘자바 모니터(monitor)’를 제공함으로써 스레드들이 ‘상호 배제 프로토콜(mutual exclusion protocol)’에 참여할 수 있도록 돕는다.
    - HotSpot VM에서 대부분의 동기화 작업은 fast-path 코드 작업을 통해서 진행한다.
    - 여러 스레드가 경합을 일으키는 상황이 발생하면 이 fast-path 코드는 slow-path 코드 상태로 변환한다. slow-path 구현은 C++코드로 작성되어있으며 fast-path 코드는 JIT compiler에서 제공하는 장비에 의존적인 코드로 작성되어있다.
    
  
 
