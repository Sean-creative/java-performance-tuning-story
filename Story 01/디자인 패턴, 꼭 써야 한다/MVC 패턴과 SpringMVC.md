ch1에 잠깐 나왔던 MVC 패턴을 좀 더 알아보고 MVC 패턴을 따르는 Spring MVC의 동작방식을 알아보자!

## MVC 패턴

- Model : 애플리케이션의 정보 (뷰에 출력할 데이터 저장)
- View : 사용자 인터페이스 요소 (HTML을 생성하는 부분)
- Controller : 데이터와 비즈니스 로직 사이의 상호 동작 관리 (HTTP request를 받아서, 비즈니스 로직 실행, 뷰에 전달할 결과 데이터를 조회해서 모델에 담음)

## MVC 패턴을 사용하는 이유?

뷰 영역, 데이터 처리 영역, 뷰와 데이터 처리를 제어하는 컨트롤러 영역을 각각 분리해서 개발하면 유지보수성, 애플리케이션의 확장성, 유연성이 증가하고 중복 코딩의 문제점도 해결된다.

- 유연성 : client의 새로운 요구사항에 대해 최소한의 비용으로 유연하게 대처할 수 있는 것

## MVC 패턴 방식

### 1. Model1
  View에서 비즈니스 로직 영역까지 구현하는 방식이다. 모든 요청을 JSP가 처리하고, 결과를 클라이언트에 반환한다.

- 장점 : MVC model1은 구현이 쉽고 간단하지만
- 단점 : 프로젝트 규모가 커질수록 유지보수가 어려워진다.

하나의 JSP파일 안에 java 코드와 html이 섞여 있기 때문이다. 비즈니스 로직 영역과 view영역은 라이프 사이클이 다르고, 각각 수정은 다른 한 쪽에 영향을 거의 주지 않는다. 이렇게  라이프사이클이 다른 코드들을 한 페이지에서 관리하는 것은 좋지 않다.

### 2. Model2
  Model2는 Model1을 보완한 아키텍쳐로 Model, view, controller로 각각 모듈화되었고, 클라이언트로부터 들어온 요청은 servlet이 받아서 처리하고, JSP는 View영역만 담당한다.

- 장점 : view와 controller가 각각 모듈화되어 있으므로, 디자이너와 개발자의 분업이 가능하고, 유지보수에 유리하다. 화면을 그리는 view와 비즈니스로직을 담당하는 controller 영역이 라이프사이클을 같이 하지 않아도 된다.
- 단점 : 설계와 개발이 복잡하고 어렵다.


### **Spring MVC는 MVC Model2 방식을 채택하고 있다.**


## Spring MVC 구조 동작 순서

![image](https://user-images.githubusercontent.com/64389364/182027860-2fd7ec54-b00a-40b8-a77f-0e918dde6825.png)


1) 핸들러, 핸들러 어댑터 조회

- 핸들러 조회 : RequestMappingHandlerMapping을 통해 url에 매핑된 핸들러를 조회한다.
- 핸들러 어댑터 조회 : RequestMappingHandlerAdapter로 해당 핸들러를 실행할 수 있는 핸들러 어댑터를 조회한다.

3) 핸들러 어댑터 실행 : 핸들러 어댑터에서 핸들러를 실행하고 

4) 핸들러가 반환한 정보로 ModelAndView를 만들어 리턴한다.

5) 뷰 리졸버 호출

6) 뷰 반환 : 뷰 리졸버가 논리 뷰를 물리 뷰로 바꿔서 뷰객체를  리턴한다     

7) 뷰 렌더링
