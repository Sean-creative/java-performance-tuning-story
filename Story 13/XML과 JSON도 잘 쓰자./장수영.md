### 자바에서 사용하는 XML 파서의 종류는?

---

- xml의 장점
    - 누구나 데이터의 구조를 정의하고 그 정의된 구조를 공유함으로써 일관된 데이터 전송 및 처리를 할 수 있다는 점 ⇒ 이러한 특성 때문에 데이터를 파싱해야한다.
- 자바에서는 xml을 파싱하기 위해서 JAXP를 제공한다.
    - JAXP는 SAX, DOM, XSLT에서 사용하는 기본 API를 제공 → JAXP 기반의 API를 쓴다면, 파서를 제공하는 벤더에 종속되지 않을 수 있음
    - SAX와 DOM
        
        
        | SAX | DOM |
        | --- | --- |
        | 순차적 방식으로 XML 처리 | 모든 XML을 읽어서 트리를 만든 후 XML을 처리하는 방식  |
        | 각 XML의 노드를 읽는 대로 처리하므로 메모리에 부담이 DOM에 비해서 많지 않음 | DOM은 모든 XML을 메모리에 올려서 작업하기 때문에 메모리에 부담이 가게 됨 |
        | content → Error → DTD → Entity 순차적 이벤트 처리 ⇒ 이미 읽은 데이터의 구조를 수정하거나 삭제하기 어려움 | 모든 XML의 내용을 읽은 이후에 처리 ⇒ 읽은 XML을 통하여 노드를 추가, 수정, 삭제하기 쉬운 구조로 되어 있음 |
    - XSLT는 SAX, DOM, InputStream을 통해서 들어온 데이터를 원하는 형태의 화면으로 구성하는 작업을 수행 ⇒ XML이 화면에서 보기쉬운 데이터가 되도록 처리하는 것
    

### SAX 파서는 어떻게 사용할까?

---

- sax 파서는 순차적으로 처리하는 이벤트 기반의 모델
- 원하는 데이터를 만들려면 데이터를 어떻게 처리할지 결정해서 구현해야 함
- SAX API
    - SAXParserFactory : 파싱을 하는 파서 객체를 생성하기 위한 추상클래스
    - SAXParser : 여러 종류의 parse() 메서드를 제공하는 추상클래스. 이 클래스의 parse()메서드를 호출하면 파싱을 실시한다.
    - DefaultHandler : Content, Error, DTD 핸들러, Entity 리졸버를 구현한 클래스
    - ContentHandler: XML의 태그의 내용을 읽기위한 메서드를 정의한 인터페이스

### DOM 파서는 어떻게 사용할까?

---

- DOM파서는 XML을 트리형태의 데이터로 먼자 만든 후, 데이터를 가공하는 방식을 사용한다.
- SAX와 다른 점
    - 따로 핸들러 지정하지 않고, 파싱한 데이터를 Document 클래스의 객체에 담아서 리턴
- XML 파일의 크기가 클 때 DOM 파서를 사용한다면, OutOfMemoryError가 빈번히 일어날 확률이 매우 크다.

### XML 파서가 문제가 된 사례

---

### JSON과 파서들

---

- JSON 구조
    - name : value 형태의 쌍으로 collection 타입
    - 값의 순서가 있는 목록 타입
- JSON도 CPU와 메모리를 점유하며 응답 시간도 느리다.
- 자바 기반 JSON 파서
    - Jackson JSON
    - google-gson
- JSON 데이터는 Serialize와 Deserialize를 처리하는 성능이 좋지 않다.
    - XML 파서보다 더 느린 경우가 대부분이다.

### 데이터 전송을 빠르게 하는 라이브러리 소개

---

- 일반적으로 많이 사용되는 라이브러리
    - protobuf, Thrift, avro
