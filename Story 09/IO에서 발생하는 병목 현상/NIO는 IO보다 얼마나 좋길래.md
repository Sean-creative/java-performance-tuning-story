# why?
- 책에서 나온 NIO 설명이 부족하고 헷갈린다고 느낌 

@ 자바는 어디서 느릴까? 
- 자바는 고질적으로 IO가 느리다는 평가를 받았다. 
- 하지만 JDK 1.4 부터 기존에 느린 속도의 IO를 개선하고자 -> NIO(NEW IO)가 추가되었다.

구분				            IO				NIO
입출력 방식		  	Stream 방식			Channel 방식
버퍼 방식		    	non-Buffer 방식		Buffer 방식
비동기 방식			    지원 x				지원 o
블로킹/논블로킹  	블로킹 방식			블로킹/논블로킹 


@ Stream 방식 vs Chnnel 방식
IO는 스트림 기반이다. 스트림은 입력 스트림과 출력 스트림으로 구분되어 있기 때문에 데이터를 읽기 위해서는 입력 스트림을 생성해야 하고, 
데이터를 출력하기 위해서는 출력 스트림을 생성해야 한다. 
NIO는 채널 기반. 채널은 스트림과 달리 양방향으로 입력과 출력이 가능하다. 그렇기 때문에 입력과 출력을 위한 별도의 채널을 만들 필요가 없다.


@ Non-Buffer 방식 vs Buffer 방식
IO에서는 출력 스트림이 1바이트를 쓰면 입력 스트림이 1바이트를 읽는다. 
이것보다는 버퍼를 사용해서 복수 개의 바이트를 한꺼번에 입력받고 출력하는 것이 빠른 성능을 낸다. 
그래서 IO는 버퍼를 제공해 주는 보조 스트림인 BufferedInputStream, BufferedOutputStream을 연결해서 사용하기도 한다. 
NIO는 기본적으로 버퍼를 사용해서 입출력을 하므로 IO보다는 성능이 좋다. 채널은 버퍼에 저장된 데이터를 출력하고, 입력된 데이터를 버퍼에 저장한다.

또한, IO는 스트림에서 읽은 데이터를 즉시 처리하기 때문에 입력된 전체 데이터를 별도로 저장하지 않으면, 
입력된 데이터의 위치를 자유롭게 이용할 수 없다. 
NIO는 읽은 데이터를 무조건 버퍼에 저장하기 때문에 버퍼 내에서 데이터의 위치를 이동해 가면서 필요한 부분만 읽고 쓸 수 있다.

 
@ Blocking 과 Non-Blocking
IO는 블로킹(blocking)이 된다. 입력 스트림의 read() 출력 스트림의 write() 메소드를 호출하면 블로킹 된다. 
IO 스레드가 블로킹 되면 다른 일을 할 수 없고 블로킹을 빠져나오기 위해 인터럽트도 할 수 없고 블로킹을 빠져나오는 방법은 스트림을 닫는 것이다.

NIO는 블로킹과 넌블로킹 특징을 모두 가지고 있다. IO 블로킹과의 차이점은 NIO 블로킹은 스레드를 인터럽트 함으로써 빠져나올 수가 있다는 것이다. 
NIO의 넌블로킹은 입출력 작업 준비가 완료된 채널만 선택해서 작업 스레드가 처리하기 때문에 작업 스레드가 블로킹 되지 않는다. 
NIO 넌블로킹의 핵심 객체는 멀티플렉서인 Selector이다. 셀렉터는 복수 개의 채널 중에서 이벤트가 준비 완료된 채널을 선택하는 방법을 제공해준다.

 
@ Selector
java NIO Selector는 하나의 thread가 여러개의 input channel을 모니터링 하는것이 가능하다.
이러한 메커니즘으로 단일 쓰레드에서 여러 채널을 쉽게 관리가 가능하다.
