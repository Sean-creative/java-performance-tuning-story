# Overview

---

- 안드로이드는 OS의 CPU가 약해서 성능을 많이 써야 한다.

# 일반적인 서버 프로그램 개발과 안드로이드 개발은 다르다

---

- 안드로이드는 JVM이 오라클이나 IBM에서 만든것과 다를 수 있다.
- SWAP이라는 메모리 영역을 사용하여 물리적인 RAM이 부족할 경우 디스크를 메모리처럼 사용하는 SWAP이 발생한다. 이렇게 사용하면 메모리를 많이 사용할 수 있는 장점이 있지만 SSD를 사용하더라도 메모리에 접근하는 작업의 성능이 매우 느려진다는 단점이 있다. 안드로이드의 경우 SWAP의 개념이 없다.

# 구글에서 이야기하는 안드로이드 성능 개선

---

- 필요없는 객체 생성을 피하자
    - String 대신 StringBuffer 사용
    - Integer 배열 대신 int 배열 사용
    - 다차원 배열 대신 1차원 배열 사용
- static을 적절하게 사용하자
    - 인스턴스 변수에 접근할 일이 없을 경우에 static 메서드를 선언하여 호출하는 것은 15~20%의 성능 개선이 발생할 수 있다.
- 상수에는 static final을 사용하자
    - static final 선언과 static 선언은 저장되고 참조되는 위치가 달라진다. static final이 훨씬 속도가 빠르다.
- 내부에서 getter와 setter를 사용을 피하자
    - 인스턴스 벼눗에 직접 접근하는 것이 getter나 setter 메서드를 사용하는 것 보다 빠르다.
    - JIT 컴파일러가 적용되지 않을 경우 3배, 적용될 경우 7배 빨라진다.
- 개선된 for 루프를 사용하자
    - Iterable 인터페이스를 사용하는 대부분의 Collection에서 제공하는 클래스는 전통적인 for 루프를 사용하는 것 보다 for-each 루프를 사용하는 방법이 성능상 유리하다. ArrayList는 예외로 전통적인 for 루프가 3배 빠르다.
- private한 Inner 클래스의 private 접근을 피하자
    - Inner 클래스를 감싸고 있는 클래스의 private 변수를 접근할 수 있다. 그런데 VM에서는 내부 클래스와 감싸고 있는 클래스는 다른 클래스로 인식한다. 컴파일러는 감싸고 있는 클래스의 private 변수에 접근할 수 있는 메서드를 자동 생성해준다. 변수에 직접 접근이 불가하므로 getter나 setter를 사용하는 것처럼 성능이 저하된다.
- 소수점 연산을 피하자
    - 안드로이드 기기에서 정수 연산보다 소수점 연산이 2배 느리다. 그리고 double이 float보다 2배의 저장 공간을 사용하므로 가능하다면 float을 사용한다.
- 라이브러리를 알고 사용하자.
    - API 코드가 더 빠른 경우가 있다.
